(function(p){"object"===typeof exports&&"undefined"!==typeof module?module.exports=p():"function"===typeof define&&define.I?define([],p):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).greinerHormann=p()})(function(){return function n(m,g,a){function f(c,e){if(!g[c]){if(!m[c]){var h="function"==typeof require&&require;if(!e&&h)return h(c,!0);if(b)return b(c,!0);h=Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h;}h=g[c]=
{exports:{}};m[c][0].call(h.exports,function(b){var a=m[c][1][b];return f(a?a:b)},h,h.exports,n,m,g,a)}return g[c].exports}for(var b="function"==typeof require&&require,e=0;e<a.length;e++)f(a[e]);return f}({1:[function(n,m){var g=n("./polygon");m.exports=function(a,f,b,e){var c=[],d=[],h,k;k=a._latlngs;a=0;for(h=k.length;a<h;a++)c.push([k[a].lng,k[a].lat]);k=f._latlngs;a=0;for(h=k.length;a<h;a++)d.push([k[a].lng,k[a].lat]);c=new g(c);d=new g(d);if((f=c.clip(d,b,e))&&0<f.length){a=0;for(h=f.length;a<
h;a++){b=f;e=a;if(c=f[a])for(c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]&&(c=c.slice(0,c.length-1)),d=0,k=c.length;d<k;d++)c[d]=[c[d][1],c[d][0]];else c=null;b[e]=c}return f?1===f.length?f[0]:f:null}return null}},{"./polygon":4}],2:[function(n,m){function g(a,f,b,e){this.h=this.toSource=this.y=this.x=0;var c=(e.y-b.y)*(f.x-a.x)-(e.x-b.x)*(f.y-a.y);0!==c&&(this.toSource=((e.x-b.x)*(a.y-b.y)-(e.y-b.y)*(a.x-b.x))/c,this.h=((f.x-a.x)*(a.y-b.y)-(f.y-a.y)*(a.x-b.x))/c,this.valid()&&(this.x=a.x+
this.toSource*(f.x-a.x),this.y=a.y+this.toSource*(f.y-a.y)))}g.prototype.valid=function(){return 0<this.toSource&&1>this.toSource&&0<this.h&&1>this.h};g.prototype.F=function(){return 0==this.toSource&&0<=this.h&&1>=this.h};m.exports=g},{}],3:[function(n,m){var g=n("./clip.leaflet");m.exports={union:function(a,f){return g(a,f,!1,!1)},intersection:function(a,f){return g(a,f,!0,!0)},diff:function(a,f){return g(a,f,!1,!0)},clip:g}},{"./clip.leaflet":1}],4:[function(n,m){function g(b,e){this.o=this.first=
null;this.v="undefined"===typeof e?Array.isArray(b[0]):e;for(var c=0,d=b.length;c<d;c++)this.l(new a(b[c]))}var a=n("./vertex"),f=n("./intersection");g.prototype.l=function(b){if(null==this.first)this.first=b,this.first.next=b,this.first.b=b;else{var a=this.first,c=a.b;a.b=b;b.next=a;b.b=c;c.next=b}};g.prototype.A=function(b,a,c){for(;!a.c(c)&&a.m<b.m;)a=a.next;b.next=a;c=a.b;b.b=c;c.next=b;a.b=b};g.prototype.g=function(b){for(;b.a;)b=b.next;return b};g.prototype.G=function(){var b=this.D||this.first;
do{if(b.a&&!b.i)break;b=b.next}while(!b.c(this.first));return this.D=b};g.prototype.H=function(){var b=this.o||this.first;do{if(b.a&&!b.i)return this.o=b,!0;b=b.next}while(!b.c(this.first));this.o=null;return!1};g.prototype.s=function(){var b=[],a=this.first;if(this.v){do b.push([a.x,a.y]),a=a.next;while(a!==this.first)}else{do b.push({x:a.x,y:a.y}),a=a.next;while(a!==this.first)}return b};g.prototype.B=function(){var a=this.first,e=0;do e+=(a.next.x-a.x)*(a.next.y+a.y);while(!a.c(this.first));return 0>=
e};g.prototype.clip=function(b,e,c){var d=this.first,h=b.first,k,l;this.B()||(e=!e);b.B()||(c=!c);do{if(!d.a){do{if(!h.a){l=new f(d,this.g(d.next),h,b.g(h.next));if(l.F()){k=d.b.x-d.x;l=d.b.y-d.y;var m=d.next.x-d.x,n=d.next.y-d.y;n/m===l/k?(k=n,l=-m):(k=m+k,l=n+l);m=Math.sqrt(k*k+l*l);k/=m;l/=m;k*=1E-9;l*=1E-9;(new a(d.x+k,d.y+l)).u(this)?(d.x-=k,d.y-=l):(d.x+=k,d.y+=l);l=new f(d,this.g(d.next),h,b.g(h.next))}l.valid()&&(k=a.w(l.x,l.y,l.toSource),l=a.w(l.x,l.y,l.h),k.f=l,l.f=k,this.A(k,d,this.g(d.next)),
b.A(l,h,b.g(h.next)))}h=h.next}while(!h.c(b.first))}d=d.next}while(!d.c(this.first));d=this.first;h=b.first;k=d.u(b);l=h.u(this);e^=k;c^=l;do d.a&&(d.j=e,e=!e),d=d.next;while(!d.c(this.first));do h.a&&(h.j=c,c=!c),h=h.next;while(!h.c(b.first));for(e=[];this.H();){c=this.G();d=new g([],this.v);d.l(new a(c.x,c.y));do{c.C();if(c.j){do c=c.next,d.l(new a(c.x,c.y));while(!c.a)}else{do c=c.b,d.l(new a(c.x,c.y));while(!c.a)}c=c.f}while(!c.i);e.push(d.s())}0===e.length&&(k&&e.push(this.s()),l&&e.push(b.s()),
0===e.length&&(e=null));return e};m.exports=g},{"./intersection":2,"./vertex":5}],5:[function(n,m){function g(a,f){1===arguments.length&&(Array.isArray(a)?(f=a[1],a=a[0]):(f=a.y,a=a.x));this.x=a;this.y=f;this.f=this.b=this.next=null;this.m=0;this.j=!0;this.i=this.a=!1}g.w=function(a,f,b){a=new g(a,f);a.m=b;a.a=!0;a.j=!1;return a};g.prototype.C=function(){this.i=!0;null===this.f||this.f.i||this.f.C()};g.prototype.c=function(a){return this.x===a.x&&this.y===a.y};g.prototype.u=function(a){var f=!1,b=
a.first,e=b.next,c=this.x,d=this.y;do(b.y<d&&e.y>=d||e.y<d&&b.y>=d)&&(b.x<=c||e.x<=c)&&(f^=b.x+(d-b.y)/(e.y-b.y)*(e.x-b.x)<c),b=b.next,e=b.next||a.first;while(!b.c(a.first));return f};m.exports=g},{}]},{},[3])(3)});
